$item replace entity @n[tag=utils.custom_use_remainder] weapon.$(hand) from entity @s weapon.$(hand)

$item replace entity @s weapon.$(hand) with air

$item replace entity @s weapon.$(hand) from entity @n[tag=utils.custom_use_remainder] weapon.$(hand)

kill @n[tag=utils.custom_use_remainder]